<section class="reviews">
  <div class="reviews__content-wrapper">
    <div class="heading__content-wrapper">
      {%- if section.settings.subheading != blank -%}
        <p class="caption reveal">{{ section.settings.subheading }}</p>
      {%- endif -%}
      
      {%- if section.settings.title != blank -%}
        <h2 class="heading__title heading__title--shift-up h3 reveal">{{ section.settings.title }}</h2>
      {%- endif -%}
    
      {%- if section.settings.body != blank -%}
        <p class="heading__body reveal">{{ section.settings.body }}</p>
      {%- endif -%}
    </div>
  
    <div class="reviews__wrapper reveal">
      {% if section.blocks.size > 0 %}
        <div class="reviews__swiper swiper swiper-testimonials-carousel">
          <div class="swiper-wrapper">
            {% for block in section.blocks %}
              <div class="reviews__swiper-slide swiper-slide">
                <div>
                  {% render "icon-five-stars" %}
                  <p class="reviews__review-body h4">"{{ block.settings.title }}"</p>
                </div>
                <p class="caption">{{ block.settings.author }}</p>
                <p class="caption text-fade">{{ block.settings.product }}</p>
              </div>
            {% endfor %}
          </div>
        </div>

        <div class="reviews__navigation">
          <div class="swiper-button-prev swiper-testimonials-carousel-button-prev">
            {% render "icon-arrow-left" %}
          </div>
          <div class="swiper-button-next swiper-testimonials-carousel-button-next">
            {% render "icon-arrow-right" %}
          </div>
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
  {
    "name": "Reviews Carousel",
    "settings": [
      {
        "type": "header",
        "content": "Settings"
      },
      {
        "type": "header",
        "content": "Content"
      },
      {
        "type": "text",
        "id": "subheading",
        "label": "Subheading",
        "default": "Subheading"
      }, 
      {
        "type": "text",
        "id": "title",
        "label": "Title",
        "default": "Title"
      },
      {
        "type": "textarea",
        "id": "body",
        "label": "Body Copy",
        "default": "lorem ipsum"
      }
    ],
    "blocks": [
      {
        "type": "review",
        "name": "Review",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Review Text"
          },
          {
            "type": "text",
            "id": "author",
            "label": "Review Author"
          },
          {
            "type": "text",
            "id": "product",
            "label": "Product Name"
          },
        ]
      }
    ],
    "presets": [
      {
        "name": "Reviews Carousel"
      }
    ]
  }
{% endschema %}